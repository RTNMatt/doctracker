/* =========================
   Document Page Styles
   (keeps your class names)
   ========================= */

.document-page {
  color: var(--text);
}

/* Optional header structure if present */
.document-header {
  max-width: 1280px;          /* widened a bit */
  margin: 0 auto 20px;
  padding: 0 16px;
}
.document-title {
  margin: 0 0 8px;
  font-size: clamp(22px, 3.6vw, 32px);
  line-height: 1.2;
  color: var(--text);
}
.document-meta {
  color: var(--muted);
  font-size: 0.95rem;
}

/* -------- Links block -------- */
.doc-links {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 6px;
}
.doc-links a {
  text-decoration: none;
  font-style: italic;
  color: var(--brand);
}
.doc-links a:hover {
  text-decoration: underline;
}

/* -------- Two-column content -------- */
.doc-contents {
  display: grid;
  /* widen overall and give left column a touch more space */
  grid-template-columns: 1.25fr 0.95fr;
  gap: 30px;

  max-width: 1280px;          /* widened from 1200px */
  margin: 0 auto;             /* centered */
  padding: 0 20px;            /* slightly wider side gutters */
}

/* Left column (body/sections) */
.doc-left {
  min-width: 0;               /* prevent overflow */
}

/* Right column (image/preview/panel) — NO BOX STYLE */
.doc-right {
  min-width: 0;
  min-height: 0;              /* no forced height if empty */
  display: grid;
  place-items: center;        /* centers content if present */
  /* removed background/border/padding so there’s no box when empty */
}

/* -------- Section content -------- */
.doc-section {
  margin: 0 0 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--hairline);
}
.doc-section:last-child {
  border-bottom: 0;
  padding-bottom: 0;
}
.doc-section-title {
  margin: 0 0 8px;
  font-size: clamp(16px, 2.2vw, 20px);
  font-weight: 600;
  color: var(--text);
}
.doc-section-body {
  color: var(--text);
  line-height: 1.6;
}
.doc-section-body p { margin: 0 0 10px; }
.doc-section-body ul,
.doc-section-body ol { margin: 0 0 10px 18px; }

/* -------- Section images (NO BORDER/BOX) -------- */
.doc-sec-img {
  max-width: 100%;
  max-height: 50%;
  height: auto;
  object-fit: contain;
  /* removed border/background/radius to eliminate the box look */
  display: block;
  border-radius: 8px;
}

/* -------- Small helpers -------- */
.doc-hint {
  color: var(--muted);
  font-size: 0.95rem;
}

/* -------- Responsive -------- */
@media (max-width: 1000px) {
  .doc-contents {
    gap: 22px;
    max-width: 95%;
    grid-template-columns: 1.1fr 0.9fr; /* keep a little bias to the left */
  }
}

@media (max-width: 800px) {
  .doc-contents {
    grid-template-columns: 1fr;   /* stack on small screens */
    max-width: 100%;
    gap: 18px;
  }
  .doc-right {
    min-height: 0;                /* ensure no empty box on mobile either */
  }
}

/* If the right column is empty, collapse to a single centered column */
.doc-contents:has(.doc-right:empty) {
  grid-template-columns: 1fr;
  max-width: 900px;   /* nice reading width */
}

/* Don’t render an empty right column */
.doc-right:empty {
  display: none;
}

/* --- Tag bar (minimal additions) --- */
.doc-tagbar {
  display: grid;
  gap: 8px 14px;
  grid-template-columns: 1fr;
  margin: 6px 0 10px;
}

.tag-group {
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 8px;
  align-items: center;
}
.tag-group-label {
  color: var(--muted);
  font-size: 0.9rem;
  text-align: right;
  padding-right: 6px;
}
.tag-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.tag-chip {
  border: 1px solid var(--hairline);
  background: #fff;
  color: var(--text);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 0.85rem;
  line-height: 1;
  cursor: pointer;
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease, background 120ms ease;
}
.tag-chip:hover { transform: translateY(-1px); box-shadow: 0 4px 10px rgba(47,106,253,0.12); }
.tag-chip:focus-visible { outline: 2px solid var(--brand); outline-offset: 2px; }

/* Group colors */
:root {
  --tag-dept-bg: #EAF2FF;  --tag-dept-fg: #1F2A44;  --tag-dept-ol: #C8DAFF;
  --tag-col-bg:  #E8FFF5;  --tag-col-fg:  #055941;  --tag-col-ol:  #CDEEE3;
  --tag-doc-bg:  #FFF5E6;  --tag-doc-fg:  #7A4A00;  --tag-doc-ol:  #FFE3B3;
  --tag-ext-bg:  #F3E8FF;  --tag-ext-fg:  #3B1E7A;  --tag-ext-ol:  #E2D3FF;
}

/* outlines now match each tag's palette */
.tag-chip.is-dept { background: var(--tag-dept-bg); color: var(--tag-dept-fg); border-color: transparent; outline: 2px solid var(--tag-dept-ol); }
.tag-chip.is-col  { background: var(--tag-col-bg);  color: var(--tag-col-fg);  border-color: transparent; outline: 2px solid var(--tag-col-ol); }
.tag-chip.is-doc  { background: var(--tag-doc-bg);  color: var(--tag-doc-fg);  border-color: transparent; outline: 2px solid var(--tag-doc-ol); }
.tag-chip.is-ext  { background: var(--tag-ext-bg);  color: var(--tag-ext-fg);  border-color: transparent; outline: 2px solid var(--tag-ext-ol); }

/* Responsive */
@media (max-width: 800px) {
  .tag-group { grid-template-columns: 1fr; }
  .tag-group-label { text-align: left; }
}
